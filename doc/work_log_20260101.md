# 작업 일지 : 2026-01-01 (Big History AI Platform)

## 1. 개요
*   **목표**: Vercel 배포 문제 해결 및 채팅 인터페이스 UI/UX 개선
*   **상태**: 코드 수정 및 로컬 검증 완료. Vercel Git 연동 문제로 인한 배포 지연 상태에서 종료.

## 2. 주요 작업 내용

### A. 코드 품질 개선 (Lint Fix)
*   **문제 해결**: `npm run lint` 실행 시 발생하던 모든 오류 수정.
    *   `src/components/chat-interface.tsx`: `any` 타입 제거, `useChat` 미사용 모듈 정리.
    *   `src/lib/pdf-loader.ts`: 외부 라이브러리(`pdf2json`) 타입 호환성 문제 해결 (`eslint-disable` 적용).
    *   `src/lib/supabase/*`: 환경 변수 누락 시 빌드가 터지는 문제를 방지하기 위한 안전장치(`|| ''`) 추가.

### B. UI/UX 기능 개선
1.  **메세지 에디터 고도화 (Matrix Editor)**
    *   기존 단순 Textarea를 **블록형 에디터**로 전면 교체.
    *   문장 단위로 줄을 나눠서 수정/삭제/추가가 가능한 UI 구현.
2.  **타이포그래피 및 레이아웃 개선**
    *   **Assistant 말풍선 제거**: 답변이 채팅이 아닌 '문서'처럼 보이도록 배경 박스 스타일 제거.
    *   **헤더 디자인 적용**:
        *   `#` (H1): 그라데이션 텍스트 (Blue to Purple)
        *   `##` (H2): 하단 밑줄 및 굵은 폰트
        *   `###` (H3): 파란색 포인트 컬러 및 블릿 스타일

### C. 배포 트러블슈팅 (Deployment)
*   **초기 문제**: Vercel 프로젝트 설정의 `Root Directory` 문제 해결.
*   **빌드 에러 해결**: `Invalid supabaseUrl` 에러 확인 → 환경 변수(`NEXT_PUBLIC_SUPABASE_URL` 등) 주입 안내.
*   **런타임 에러 해결**: 저장 기능 사용 시 `Table not found` 에러 확인 → Supabase SQL 쿼리 제공.
*   **현재 잔존 이슈**:
    *   로컬에서 `git push`는 정상적으로 되었으나, Vercel이 최신 커밋(Design Update 포함)을 감지하지 못하고 과거 시점(`7271617`)만 계속 빌드 중.
    *   Git Webhook 연동이 끊긴 것으로 추정됨.

## 3. 내일(Next) 진행 계획
1.  **강제 배포 (Direct Deploy)**
    *   Git 연동을 기다리지 않고, 로컬에서 `npx vercel deploy --prod` 명령어로 직접 파일 업로드 배포 수행.
2.  **Supabase 테이블 생성 확인**
    *   배포 후 `saved_items` 테이블 생성 SQL 실행 여부 점검.
3.  **최종 라이브 테스트**
    *   배포된 URL(`https://bighistory-web-ai.vercel.app`)에서 디자인 변경 사항 및 저장 기능 최종 확인.
